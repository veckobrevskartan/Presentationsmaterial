<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OSINT & Omvärldsbevakning – FM-version</title>
  <meta name="description" content="OSINT och omvärldsbevakning – FM-anpassad presentation med analyscykelmarkering per slide." />

  <style>
    :root{
      --bg:#f6f8fa; --fg:#1f2328; --muted:#6e7781; --brand:#185293;
      --card:#ffffff; --border:#d0d7de; --accent:#ecf1f9;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:var(--bg); color:var(--fg);
    }
    .container{
      max-width: 1100px; margin: 28px auto;
      background: var(--card);
      box-shadow: 0 6px 22px rgba(0,0,0,.08);
      border-radius: 12px;
      border:1px solid var(--border);
      overflow: hidden;
    }
    header.header{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      padding: 10px 16px;
      background:#fff;
      border-bottom:1px solid var(--border);
      box-shadow: 0 2px 6px rgba(0,0,0,.04);
      gap:10px;
    }
    .brand{ display:flex; align-items:center; gap:12px; min-height:56px; }
    .logoImg{ width:180px; height:auto; display:block; }
    .brand .name{ display:flex; flex-direction:column; line-height:1.2; }
    .brand .name strong{ font-size:1.02rem; }
    .brand .name span{ color:var(--muted); font-size:.92rem; }

    .center-title{
      justify-self:center;
      font-size: 1.12rem;
      color: var(--brand);
      font-weight:800;
      letter-spacing:.2px;
      text-align:center;
    }
    .right-meta{
      justify-self:end;
      color:var(--muted);
      font-size:.95rem;
      text-align:right;
      line-height:1.25;
    }

    #slides{ padding: 22px 24px 10px 24px; min-height: 600px; }
    .frame{ display:grid; grid-template-columns: 1fr 280px; gap:18px; align-items:start; }
    .slide{ border:1px solid var(--border); border-radius:12px; padding:18px 18px; background:#fff; }
    .slide h2{ color: var(--brand); margin: 0 0 10px; font-size: 1.45rem; letter-spacing:.2px; }
    .slide p{ margin: 10px 0; line-height: 1.6; white-space: pre-line; }
    .slide ul{ margin: 10px 0 0 18px; padding:0; line-height: 1.6; }
    .callout{ border-left:4px solid var(--brand); background: var(--accent); padding: 10px 12px; border-radius: 10px; margin: 12px 0; }
    .mini{ font-size:.95rem; color:var(--muted); }

    .slideTitle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px dashed var(--border);
    }
    .slideTitle .kicker{ font-weight:800; color:#0b4a8a; letter-spacing:.2px; }

    /* Responsive wrapper (graphic + embeds) */
    .embedWrap{
      width:100%;
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow:hidden;
      background:#fff;
      margin-top: 12px;
    }
    .embedRatio{
      position: relative;
      width: 100%;
      padding-top: 62%;
    }
    .embedRatio .fill{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
    }
    .embedCaption{
      padding: 10px 12px;
      border-top: 1px solid var(--border);
      color: var(--muted);
      font-size: .92rem;
    }

    /* Graphic (inline SVG) */
    .svgWrap{
      width:100%;
      height:100%;
      display:flex;
      align-items:stretch;
      justify-content:stretch;
      background: linear-gradient(180deg, #ffffff 0%, #f7f9fc 100%);
    }
    .svgWrap svg{
      width:100%;
      height:100%;
    }
    .svgCardTitle{
      font-weight:800;
      fill:#0b4a8a;
    }
    .svgCardText{
      fill:#1f2328;
      font-size:12px;
    }
    .svgMuted{
      fill:#6e7781;
      font-size:11px;
    }

    /* Rail */
    .rail{
      position: sticky;
      top: 14px;
      border:1px solid var(--border);
      border-radius:12px;
      padding: 14px 12px;
      background:#fff;
    }
    .rail h3{ margin:0 0 10px; font-size: 1.02rem; color:#0b4a8a; }
    .cycle{ display:flex; flex-direction:column; gap:8px; }
    .step{ display:flex; align-items:center; gap:10px; border:1px solid var(--border); border-radius: 10px; padding: 9px 10px; background:#fff; }
    .dot{ width:12px; height:12px; border-radius:999px; background: #c8d1db; flex: 0 0 auto; }
    .step .label{ font-weight:700; font-size:.98rem; }
    .step .desc{ font-size:.88rem; color:var(--muted); margin-top:2px; }
    .step .text{ display:flex; flex-direction:column; line-height:1.2; }
    .step.active{ border-color: rgba(24,82,147,.45); background: var(--accent); }
    .step.active .dot{ background: var(--brand); }
    .step.active .label{ color: #0b4a8a; }

    .badge{
      display:inline-block;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background:#fff;
      font-size:.85rem;
      color: var(--muted);
      margin-left: 8px;
      vertical-align: middle;
      user-select:none;
    }

    .nav{ display:flex; gap:8px; align-items:center; justify-content:center; padding: 12px 14px 18px; }
    .nav button{
      border:none;
      background:var(--brand);
      color:#fff;
      padding:9px 16px;
      border-radius:10px;
      cursor:pointer;
      font-size:1rem;
      font-weight:700;
    }
    .nav button[disabled]{ background:#c8d1db; color:#6e7781; cursor:not-allowed; }
    .nav .ghost{ background:#fff; color: var(--brand); border:1px solid var(--brand); }
    .nav .muted{ background:#eef3fb; color:#1e3e6a; }

    .hint{ padding: 0 18px 18px; color: var(--muted); font-size:.92rem; text-align:center; }

    code.inline{
      background:#f0f3f7;
      border:1px solid var(--border);
      padding:2px 6px;
      border-radius:8px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:.92em;
    }

    @media (max-width: 860px){
      header.header{ grid-template-columns: 1fr; text-align:center; }
      .right-meta{ justify-self:center; text-align:center; }
      .center-title{ justify-self:center; }
      .frame{ grid-template-columns: 1fr; }
      .rail{ position: relative; top:auto; }
      .brand{ justify-content:center; flex-direction:column; }
      .logoImg{ width: 220px; }
    }

    @media print{
      header,.nav,.hint{ display:none !important; }
      body{ background:#fff; }
      .container{ box-shadow:none; border:none; }
      #slides{ padding:0; }
      .slide{ page-break-after:always; }
      .rail{ display:none; }
    }
  </style>
</head>

<body>
  <noscript>Den här sidan kräver JavaScript för att visa presentationen.</noscript>

  <div class="container">
    <header class="header">
      <div class="brand" aria-label="Svensk OSINT">
        <!-- Ersätt gärna detta med er egen logga om ni vill (PNG/SVG). -->
        <img class="logoImg" alt="Svensk OSINT" src="data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='460' height='120' viewBox='0 0 460 120'>
            <rect width='460' height='120' rx='16' fill='%23ffffff'/>
            <rect x='16' y='16' width='88' height='88' rx='18' fill='%23185293'/>
            <path d='M42 73c18-26 38-26 56 0' fill='none' stroke='%23ffffff' stroke-width='8' stroke-linecap='round'/>
            <circle cx='52' cy='54' r='6' fill='%23ffffff'/>
            <circle cx='80' cy='54' r='6' fill='%23ffffff'/>
            <text x='122' y='56' font-family='system-ui,Segoe UI,Arial' font-size='28' font-weight='800' fill='%231f2328'>Svensk OSINT</text>
            <text x='122' y='86' font-family='system-ui,Segoe UI,Arial' font-size='16' fill='%236e7781'>OSINT • analys • omvärldsbevakning</text>
          </svg>"/>
        <div class="name">
          <strong>Svensk OSINT</strong>
          <span>OSINT • analys • omvärldsbevakning</span>
        </div>
      </div>

      <div class="center-title">OSINT &amp; Omvärldsbevakning – FM-version</div>

      <div class="right-meta">
        <div><span id="slideCounter">Slide 1/1</span></div>
        <div class="mini">Pil: ← → • Hem/End • P</div>
      </div>
    </header>

    <main id="slides">
      <!-- Renderas av JS -->
    </main>

    <div class="nav">
      <button class="ghost" id="btnPrev">Föregående</button>
      <button id="btnNext">Nästa</button>
      <button class="muted" id="btnPrint" title="Skriv ut (eller spara som PDF)">Skriv ut / PDF</button>
    </div>

    <div class="hint">
      Tips: Klicka <span class="badge">Skriv ut / PDF</span> för att exportera som PDF. Grafiken ligger som <b>inline SVG</b> och fungerar offline.
    </div>
  </div>

  <script>
    // ====== Inline SVG-grafik (Zettelkasten + underrättelsecykeln) ======
    function buildGraphicSVG(){
      // Ren SVG (inga externa beroenden), anpassad för er layout.
      return `
      <div class="svgWrap fill" role="img" aria-label="Zettelkasten i OSINT, kopplat till underrättelsecykeln">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 620">
          <defs>
            <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#000" flood-opacity=".10"/>
            </filter>
            <linearGradient id="g" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0" stop-color="#ffffff"/>
              <stop offset="1" stop-color="#f1f5fb"/>
            </linearGradient>
            <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
              <path d="M 0 0 L 10 5 L 0 10 z" fill="#185293"/>
            </marker>
          </defs>

          <!-- Title -->
          <text x="30" y="52" class="svgCardTitle" font-size="28">Zettelkasten som OSINT-motor</text>
          <text x="30" y="80" class="svgMuted" font-size="14">
            Hypotesdrivet arbetssätt + underrättelsecykelns principer: samla → koppla → testa → iterera
          </text>

          <!-- Left: Sources -->
          <rect x="30" y="120" width="285" height="170" rx="18" fill="url(#g)" stroke="#d0d7de" filter="url(#shadow)"/>
          <text x="56" y="158" class="svgCardTitle" font-size="18">Inhämtning</text>
          <text x="56" y="186" class="svgCardText">• Källor: nyheter, myndigheter,</text>
          <text x="56" y="206" class="svgCardText">  OSINT-flöden, forskningsdatabaser</text>
          <text x="56" y="226" class="svgCardText">• Spårbarhet: länkar, datum,</text>
          <text x="56" y="246" class="svgCardText">  kontext, originalspråk</text>

          <!-- Middle: ZK -->
          <rect x="357" y="120" width="286" height="170" rx="18" fill="url(#g)" stroke="#d0d7de" filter="url(#shadow)"/>
          <text x="383" y="158" class="svgCardTitle" font-size="18">Zettelkasten</text>
          <text x="383" y="186" class="svgCardText">• Atomiska anteckningar (1 idé)</text>
          <text x="383" y="206" class="svgCardText">• Länkar mellan noter (relationer)</text>
          <text x="383" y="226" class="svgCardText">• Hypoteser + motbevis</text>
          <text x="383" y="246" class="svgCardText">• Spårbar “kedja av stöd”</text>

          <!-- Right: Output -->
          <rect x="685" y="120" width="285" height="170" rx="18" fill="url(#g)" stroke="#d0d7de" filter="url(#shadow)"/>
          <text x="711" y="158" class="svgCardTitle" font-size="18">Analys &amp; Leverans</text>
          <text x="711" y="186" class="svgCardText">• Bedömning / scenario / indikatorer</text>
          <text x="711" y="206" class="svgCardText">• Briefing, PM, dashboard, karta</text>
          <text x="711" y="226" class="svgCardText">• Återkoppling → ny inhämtning</text>

          <!-- Arrows between top cards -->
          <path d="M 315 205 L 357 205" stroke="#185293" stroke-width="4" fill="none" marker-end="url(#arrow)"/>
          <path d="M 643 205 L 685 205" stroke="#185293" stroke-width="4" fill="none" marker-end="url(#arrow)"/>

          <!-- Bottom: Intelligence cycle ring -->
          <rect x="30" y="320" width="940" height="270" rx="18" fill="#ffffff" stroke="#d0d7de" filter="url(#shadow)"/>
          <text x="56" y="360" class="svgCardTitle" font-size="18">Underrättelsecykeln (kopplad till Zettelkasten)</text>
          <text x="56" y="386" class="svgMuted" font-size="13">Varje slide markerar var du är i cykeln. Exempelprocess (förenklad).</text>

          <!-- Cycle nodes -->
          <g>
            <!-- Planering -->
            <circle cx="160" cy="485" r="54" fill="#ecf1f9" stroke="#185293" stroke-width="3"/>
            <text x="160" y="480" text-anchor="middle" class="svgCardTitle" font-size="14">1. Planera</text>
            <text x="160" y="502" text-anchor="middle" class="svgMuted" font-size="12">frågor/hypotes</text>

            <!-- Inhämtning -->
            <circle cx="360" cy="485" r="54" fill="#ecf1f9" stroke="#185293" stroke-width="3"/>
            <text x="360" y="480" text-anchor="middle" class="svgCardTitle" font-size="14">2. Inhämta</text>
            <text x="360" y="502" text-anchor="middle" class="svgMuted" font-size="12">källor/data</text>

            <!-- Bearbeta -->
            <circle cx="560" cy="485" r="54" fill="#ecf1f9" stroke="#185293" stroke-width="3"/>
            <text x="560" y="480" text-anchor="middle" class="svgCardTitle" font-size="14">3. Bearbeta</text>
            <text x="560" y="502" text-anchor="middle" class="svgMuted" font-size="12">strukturera</text>

            <!-- Analysera -->
            <circle cx="760" cy="485" r="54" fill="#ecf1f9" stroke="#185293" stroke-width="3"/>
            <text x="760" y="480" text-anchor="middle" class="svgCardTitle" font-size="14">4. Analysera</text>
            <text x="760" y="502" text-anchor="middle" class="svgMuted" font-size="12">bedöm/tes</text>

            <!-- Sprid -->
            <circle cx="910" cy="485" r="44" fill="#ecf1f9" stroke="#185293" stroke-width="3"/>
            <text x="910" y="480" text-anchor="middle" class="svgCardTitle" font-size="14">5. Sprid</text>
            <text x="910" y="502" text-anchor="middle" class="svgMuted" font-size="12">briefing</text>

            <!-- connecting arrows -->
            <path d="M 214 485 L 306 485" stroke="#185293" stroke-width="4" fill="none" marker-end="url(#arrow)"/>
            <path d="M 414 485 L 506 485" stroke="#185293" stroke-width="4" fill="none" marker-end="url(#arrow)"/>
            <path d="M 614 485 L 706 485" stroke="#185293" stroke-width="4" fill="none" marker-end="url(#arrow)"/>
            <path d="M 814 485 L 862 485" stroke="#185293" stroke-width="4" fill="none" marker-end="url(#arrow)"/>

            <!-- feedback -->
            <path d="M 910 441 C 910 375 220 360 160 431" stroke="#185293" stroke-width="4" fill="none" marker-end="url(#arrow)"/>
            <text x="680" y="420" class="svgMuted" font-size="12">återkoppling / nya hypoteser</text>
          </g>
        </svg>
      </div>`;
    }

    // ====== Slidedata (ändra fritt) ======
    const slides = [
      {
        title: "Varför OSINT i en militär kontext?",
        kicker: "Översikt",
        cycleStep: 0,
        body: `
          <p>OSINT är ett arbetssätt för att <b>systematiskt</b> inhämta, kvalitetssäkra och analysera öppna källor – och integrera resultaten i en underrättelseprocess.</p>
          <div class="callout">
            <b>Nyckel:</b> hypotesdrivet + underrättelsecykelns principer. Du vill kunna peka på <i>varför</i> du tror något och <i>vilka källor</i> som stödjer (eller motsäger) det.
          </div>
          <ul>
            <li>Stöd för lägesbild, indikatorer och tidig varning</li>
            <li>Kompletterar andra inhämtningar och intern rapportering</li>
            <li>Hög kravbild på spårbarhet och metoddisciplin</li>
          </ul>
        `
      },
      {
        title: "Zettelkasten som motor för analys",
        kicker: "Metod",
        cycleStep: 2,
        body: `
          <p>Zettelkasten är en metod för att bygga ett <b>länkat kunskapssystem</b> där varje not är liten, tydlig och kopplad till andra noter.</p>
          <ul>
            <li><b>Atomiska noter:</b> 1 idé per not</li>
            <li><b>Länkar:</b> relationer, motsägelser, stöd, beroenden</li>
            <li><b>Hypoteser:</b> formulera, testa, uppdatera</li>
          </ul>

          <div class="embedWrap">
            <div class="embedRatio">
              ${buildGraphicSVG()}
            </div>
            <div class="embedCaption">Inline-grafik (SVG): Zettelkasten kopplat till underrättelsecykeln och hypotesdrivet arbetssätt.</div>
          </div>
        `
      },
      {
        title: "Praktik: från fråga till indikator",
        kicker: "Arbetsflöde",
        cycleStep: 0,
        body: `
          <p>Utgå från en <b>fråga</b> och en <b>hypotes</b> – och definiera vilka observationer som skulle stärka eller försvaga den.</p>
          <ul>
            <li>Formulera hypotes + alternativa hypoteser</li>
            <li>Definiera indikatorer (vad skulle vi se om X är sant?)</li>
            <li>Bestäm källor, språk, tidsfönster och uppdateringstakt</li>
          </ul>
          <div class="callout mini">
            Exempel: “Ökad antagonistisk påverkan mot transportnoder” → indikatorer: återkommande driftstörningar, samordnade narrativ, incidentkluster, ändrade rörelsemönster.
          </div>
        `
      },
      {
        title: "Inhämtning & kvalitet",
        kicker: "Källkritik",
        cycleStep: 1,
        body: `
          <p>Bygg in kvalitet i varje steg:</p>
          <ul>
            <li>Primärkälla vs sekundärreferat</li>
            <li>Tidsstämpel: när hände det, när publicerades det?</li>
            <li>Geografi, avsändare, motiv, verifierbarhet</li>
            <li>Dokumentera osäkerhet och motuppgifter</li>
          </ul>
          <p class="mini">Tänk “spårbarhet först”: anteckningar ska kunna återbesökas och granskas.</p>
        `
      },
      {
        title: "Bearbetning: strukturera för återanvändning",
        kicker: "ZK + taggar",
        cycleStep: 2,
        body: `
          <p>Bearbetning handlar om att göra rådata <b>användbar</b> i analys och briefing.</p>
          <ul>
            <li>Normalisera: datumformat, entiteter, plats, händelsetyp</li>
            <li>Skapa noter som kan länkas: “händelse”, “aktör”, “indikator”, “källa”</li>
            <li>Tagga konsekvent (sökbart)</li>
          </ul>
          <div class="callout mini">
            Tumregel: Om en not inte kan länkas till minst en annan not – är den troligen för bred eller otydlig.
          </div>
        `
      },
      {
        title: "Analys: koppla, väga, testa",
        kicker: "Bedömning",
        cycleStep: 3,
        body: `
          <p>Analys är inte bara sammanfattning. Det är att:</p>
          <ul>
            <li>Koppla data till hypotes/alternativhypotes</li>
            <li>Väga källor och bevisstyrka</li>
            <li>Identifiera luckor (vad vet vi inte?)</li>
            <li>Uppdatera indikatorer och inhämtning</li>
          </ul>
          <p class="mini">Zettelkasten gör det lätt att se “kedjan”: källa → not → länk → bedömning.</p>
        `
      },
      {
        title: "Spridning: briefing utan att tappa spårbarhet",
        kicker: "Leverans",
        cycleStep: 4,
        body: `
          <p>Leveranser ska vara snabba att konsumera men möjliga att granska.</p>
          <ul>
            <li>“Så här vet vi det”: kort motivering + hänvisningar</li>
            <li>Markera osäkerhet tydligt</li>
            <li>Rekommendationer kopplade till indikatorer</li>
          </ul>
          <div class="callout mini">
            Tips: ha alltid en “bilaga”/länklista i din Zettelkasten för spårbarhet, även om briefingen är kort.
          </div>
        `
      }
    ];

    // ====== Underrättelsecykel i rail ======
    const cycleSteps = [
      { label: "Planera", desc: "Fråga, hypotes, indikatorer" },
      { label: "Inhämta", desc: "Källor, språk, tidsfönster" },
      { label: "Bearbeta", desc: "Struktur, entiteter, noter" },
      { label: "Analysera", desc: "Väga, koppla, testa" },
      { label: "Sprid", desc: "Briefing, feedback, iteration" }
    ];

    let index = 0;

    function renderRail(activeIndex){
      const items = cycleSteps.map((s, i) => {
        const active = i === activeIndex ? "active" : "";
        return `
          <div class="step ${active}">
            <div class="dot"></div>
            <div class="text">
              <div class="label">${s.label}</div>
              <div class="desc">${s.desc}</div>
            </div>
          </div>
        `;
      }).join("");

      return `
        <aside class="rail" aria-label="Underrättelsecykeln">
          <h3>Underrättelsecykeln</h3>
          <div class="cycle">${items}</div>
        </aside>
      `;
    }

    function renderSlide(){
      const s = slides[index];
      const slideHtml = `
        <div class="frame">
          <section class="slide" aria-label="Slide">
            <div class="slideTitle">
              <div>
                <div class="kicker">${s.kicker} <span class="badge">Steg ${s.cycleStep+1}/${cycleSteps.length}</span></div>
                <h2>${s.title}</h2>
              </div>
            </div>
            ${s.body}
          </section>
          ${renderRail(s.cycleStep)}
        </div>
      `;

      document.getElementById("slides").innerHTML = slideHtml;
      document.getElementById("slideCounter").textContent = `Slide ${index+1}/${slides.length}`;

      // Buttons
      document.getElementById("btnPrev").disabled = index === 0;
      document.getElementById("btnNext").disabled = index === slides.length - 1;
    }

    function prev(){ if(index>0){ index--; renderSlide(); } }
    function next(){ if(index<slides.length-1){ index++; renderSlide(); } }

    // ====== Controls ======
    document.getElementById("btnPrev").addEventListener("click", prev);
    document.getElementById("btnNext").addEventListener("click", next);
    document.getElementById("btnPrint").addEventListener("click", () => window.print());

    // Keyboard
    document.addEventListener("keydown", (e) => {
      if(e.key === "ArrowLeft") prev();
      if(e.key === "ArrowRight") next();
      if(e.key === "Home"){ index = 0; renderSlide(); }
      if(e.key === "End"){ index = slides.length - 1; renderSlide(); }
      if(e.key.toLowerCase() === "p"){ window.print(); }
    });

    // Initial render
    renderSlide();
  </script>
</body>
</html>
